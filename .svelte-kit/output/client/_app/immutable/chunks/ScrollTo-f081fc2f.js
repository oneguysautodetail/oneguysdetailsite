import{A as g,H as u,I as m,J as w}from"./index-c080d7b6.js";function d(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}const E=g([]),b=g({offset:0,duration:500,easing:d,onStart:u,onDone:u}),O=m(b),h=()=>O,v=e=>e.replace(/[^A-Z0-9]/gi,"").toLowerCase(),L=(e,o)=>{const t=e.filter(n=>n.reference===o);return t.length?t[0].node:null},y=e=>e.offsetTop,A=(e,o,t,n,r)=>t>n?o:e+(o-e)*r(t/n),T=async(e,o)=>new Promise(t=>{const{start:n,end:r,duration:s,easing:c}=e,l=w(),i=()=>{const a=w()-l,p=A(n,r,a,s,c);if(o(p),a>s)return t();window.requestAnimationFrame(i)};window.requestAnimationFrame(i)}),q=h(),P=async(e,o)=>{const{duration:t,easing:n,offset:r}=Object.assign(q,o),s=window.pageYOffset,c=e+r;await T({start:s,end:c,duration:t,easing:n},l=>{window.scroll(0,l)})},j=m(E),f=async(e,o)=>{e.preventDefault();const{ref:t,onDone:n,onStart:r}=o,s=o.duration,c=o.offset,l=o.easing,i=L(j,t);if(!i)throw new Error(`Element reference '${t}' not found`);const a=y(i);r&&r({element:i,offset:c,duration:s,endPosition:a}),await P(a,{duration:s,offset:c,easing:l}),n&&n({element:i,offset:c,duration:s,endPosition:a})},D=(e,o)=>{if(!o)throw new Error("scrollTo require a options");let t=Object.assign({ref:""},h());if(typeof o=="string"?t.ref=o:t=Object.assign(t,o),t.ref=v(t.ref),!t.ref)throw new Error("scrollTo require a reference");return e instanceof HTMLAnchorElement&&(e.href=`#${t.ref}`),e instanceof HTMLAnchorElement||(e.style.cursor="pointer"),e.addEventListener("click",n=>f(n,t)),e.addEventListener("touchstart",n=>f(n,t)),{destroy(){e.removeEventListener("click",n=>f(n,t)),e.removeEventListener("touchstart",n=>f(n,t))}}};export{v as a,E as e,D as s};
